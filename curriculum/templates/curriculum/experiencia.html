{% extends 'curriculum/base.html' %}

{% block title %}Trayectoria Profesional - {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="fade-in py-20 px-4">
    <!-- Título con estética acordada -->
    <h2 class="text-6xl md:text-8xl font-black italic uppercase mb-24 tracking-tighter text-white leading-none">
        Trayectoria<br>
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-violet-500 drop-shadow-[0_0_15px_rgba(236,72,153,0.3)]">
            Profesional
        </span>
    </h2>
    
    <div class="grid gap-16 relative">
        <!-- Línea central con gradiente neón (solo en desktop) -->
        <div class="absolute left-1/2 top-0 bottom-0 w-[2px] bg-gradient-to-b from-pink-500/50 via-violet-500/50 to-transparent hidden lg:block shadow-[0_0_15px_rgba(236,72,153,0.2)]"></div>
        
        {% for exp in experiencias %}
        <div class="relative group lg:w-[46%] {% if forloop.counter|divisibleby:2 %}lg:ml-auto{% endif %}">
            
            <!-- Punto de conexión en la línea de tiempo (Desktop) -->
            <div class="absolute top-12 hidden lg:block w-4 h-4 rounded-full bg-pink-500 shadow-[0_0_15px_rgba(236,72,153,1)] z-10
                {% if forloop.counter|divisibleby:2 %} -left-[4.4%] {% else %} -right-[4.4%] {% endif %}">
            </div>

            <!-- Tarjeta con Estética Glassmorphism -->
            <div class="bg-[#111111]/80 backdrop-blur-xl p-10 rounded-[2.5rem] border border-white/10 shadow-2xl hover:border-pink-500/50 transition-all duration-500 group-hover:-translate-y-2">
                
                <div class="flex justify-between items-start mb-8">
                    <!-- Badge Estilo Tech -->
                    <span class="px-5 py-1.5 bg-white/5 border border-white/10 text-white text-[10px] font-black rounded-full uppercase tracking-[0.2em]">
                        REG. {{ forloop.counter|stringformat:"02d" }}
                    </span>
                    <span class="text-pink-500 font-black text-xs uppercase tracking-[0.3em] drop-shadow-sm">
                        {{ exp.fecha_inicio }} — {{ exp.fecha_fin }}
                    </span>
                </div>
                
                <h3 class="text-3xl md:text-4xl font-black uppercase text-white group-hover:text-pink-400 transition-colors leading-tight mb-2">
                    {{ exp.cargo }}
                </h3>
                
                <p class="text-blue-400 font-bold text-[11px] uppercase mb-8 tracking-[0.3em] flex items-center gap-2">
                    <span class="w-8 h-[1px] bg-blue-400/50"></span>
                    {{ exp.empresa }} | {{ exp.ubicacion }}
                </p>
                
                <div class="relative">
                    <!-- Decoración de comillas -->
                    <span class="absolute -left-4 -top-4 text-6xl text-white/5 font-serif">“</span>
                    <p class="text-gray-400 text-sm italic leading-relaxed relative z-10 pl-2 border-l-2 border-pink-500/20">
                        {{ exp.descripcion }}
                    </p>
                </div>

                <!-- Glow effect de fondo al hacer hover -->
                <div class="absolute inset-0 bg-gradient-to-br from-pink-500/5 to-violet-500/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-[2.5rem] -z-10"></div>
            </div>
        </div>

        {% empty %}
        <!-- Estado vacío con estética coherente -->
        <div class="bg-[#0a0a0a] p-20 rounded-[3rem] border-2 border-dashed border-white/5 text-center col-span-full">
            <div class="w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="briefcase" class="text-gray-500 w-10 h-10"></i>
            </div>
            <p class="text-gray-500 italic font-medium tracking-widest uppercase text-xs">Aún no se han registrado datos en el sistema</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}